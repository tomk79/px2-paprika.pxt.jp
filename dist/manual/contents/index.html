<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>コンテンツ編集 | Pickles 2</title>

<meta property="og:site_name" content="Pickles 2" />
<meta property="og:title" content="コンテンツ編集 | Pickles 2" />
<meta property="og:type" content="blog" />
<meta property="og:url" content="http://pickles2.pxt.jp/manual/contents/" />
<meta property="og:image" content="http://pickles2.pxt.jp/common/images/og_image.png" />
<link rel="canonical" href="http://pickles2.pxt.jp/manual/contents/" />
<link rel="icon" href="../../common/images/favicon.png" type="image/png" />
<meta name="apple-mobile-web-app-capable" content="no" /><meta name="format-detection" content="telephone=no" /><link rel="apple-touch-icon" href="../../common/images/apple-touch-icon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="keywords" content="" />
		<meta name="description" content="" />

 
<!-- jQuery -->
<script src="../../common/scripts/jquery-1.10.1.min.js" type="text/javascript"></script>

<!-- Bootstrap -->
<link rel="stylesheet" href="../../common/styles/bootstrap/css/bootstrap.min.css">
<script src="../../common/styles/bootstrap/js/bootstrap.min.js"></script>

<!-- px2style -->
<link rel="stylesheet" href="../../common/px2style/dist/styles.css" type="text/css" />
<script src="../../common/px2style/dist/scripts.js"></script>

<!-- Contents Stylesheets -->
<link rel="stylesheet" href="../../common/styles/contents.css" type="text/css" />

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-3100892-11', 'auto');
  ga('send', 'pageview');
</script>

		<!-- Adobe Typekit -->
		<script src="https://use.typekit.net/erd0xqv.js"></script>
		<script>try{Typekit.load({ async: true });}catch(e){}</script>

		<!-- Bootstrap Theme -->
		<link rel="stylesheet" href="../../caches/p/theme/pickles/styles/bootstrap-theme.min.css">
		<link rel="stylesheet" href="../../caches/p/theme/pickles/styles/theme.css">

		<!-- Font Awesome -->
		<link rel="stylesheet" href="../../caches/p/theme/pickles/libs/font-awesome-4.6.3/css/font-awesome.min.css" />

		<!-- highlight.js -->
		<link rel="stylesheet" href="../../caches/p/theme/pickles/libs/highlight.js/styles/github.css">
		<script src="../../caches/p/theme/pickles/libs/highlight.js/highlight.pack.js"></script>
		<script>
			$(document).ready(function() {
				$('pre code').each(function(i, block) {
					hljs.highlightBlock(block);
				});
			});
		</script>

		<script>
			// Adobe Typekit
			$(function(){
				var mutObs = new MutationObserver(function(records, observer){
					// console.log('MutationObserver() callback');
					// console.log(records);
					// console.log(observer);

					for( var idx in records ){
						var $tgt = $(records[idx].target);
						// $tgt.find('h1,h2,h3,h4,h5,h6')
						// 	.removeClass('tk-ryo-gothic-plusn')
						// 	.removeClass('tk-skolar-sans-latin')
						// 	.addClass('tk-ryo-gothic-plusn')
						// ;
						$tgt.find('.theme_welcome h1').removeClass('tk-ryo-gothic-plusn').addClass('tk-skolar-sans-latin');
						$tgt.find('.theme_welcome p').addClass('tk-ryo-gothic-plusn');

						// $tgt.find('.theme_header').addClass('tk-ryo-gothic-plusn');
						// $tgt.find('.theme_footer').addClass('tk-ryo-gothic-plusn');
						// $tgt.find('.theme_breadcrumb').addClass('tk-ryo-gothic-plusn');
						$tgt.find('.theme_si').removeClass('tk-ryo-gothic-plusn').addClass('tk-skolar-sans-latin');
					}

				});
				mutObs.observe($('body').get(0), {
					childList: true,
					subtree: true
				});

			});
		</script>
	</head>
	<body class="default">
		<header class="theme_header" id="page_top">
			<div class="container">
				<p class="theme_si"><a href="../../"><img src="../../caches/p/theme/pickles/images/logo_2017.svg" alt="Pickles 2" /></a></p>
				<div class="theme_shouldernavi">
<ul><li><a href="../../developers/">開発者向けの情報</a></li></ul>				</div>
				<div class="theme_globalnavi">
<ul><li><a href="../../overview/about/">はじめに</a></li><li><a href="../../download/">ダウンロード</a></li><li><a href="../" class="current">使い方</a></li><li><a href="../../tools/">ツール・リソース</a></li><li><a href="../../blog/">BLOG</a></li><li><a href="../../usergroups/">ユーザーグループ</a></li></ul>
				</div>
			</div>
		</header>
		<div class="theme_mainblock">
			<div class="container theme_common_navi_frame">
				<div class="row">
					<div class="col-sm-9">
						<div class="theme_breadcrumb"><ul><li><a href="../../">HOME</a></li><li><a href="../">使い方</a></li><li><span>コンテンツ編集</span></li></ul></div>
						<h1>コンテンツ編集</h1>


						<div class="contents">
<p>Pickles Framework は、ウェブサイトを「サイトマップ」「コンテンツ」「テーマ」の3要素に分解して構築するフレームワークです。コンテンツは、ページレイアウト全体のうち、サイトアイデンティティやナビゲーション部分を含まない領域を担当します。テーマを入れ物とするならば、内容の部分を指します。</p>

<!-- == autoindex == -->
<div style="margin:2em 5%; border:1px solid #bbb; padding:1em; background:rgba(124, 124, 124, 0.05); border-radius:5px;">
<div style="margin:0; padding:0; text-align:center; font-weight:bold;">INDEX</div><ul style="margin:0; padding:0 0 0 2em;"><li style="list-style-type:disc; display:list-item;"><a href="#hash_コンテンツの担当範囲">コンテンツの担当範囲</a><ul style="margin:0; padding:0 0 0 2em;"><li style="list-style-type:disc; display:list-item;"><a href="#hash_原則">原則</a></li>
<li style="list-style-type:disc; display:list-item;"><a href="#hash_ローカルリソース">ローカルリソース</a></li>
<li style="list-style-type:disc; display:list-item;"><a href="#hash_コンテンツエリアの拡張">コンテンツエリアの拡張</a></li>
<li style="list-style-type:disc; display:list-item;"><a href="#hash_コンテンツエリアのクラス名">コンテンツエリアのクラス名</a></li></ul></li><li style="list-style-type:disc; display:list-item;"><a href="#hash_ローカルリソースファイルの取り扱い">ローカルリソースファイルの取り扱い</a></li>
<li style="list-style-type:disc; display:list-item;"><a href="#hash_コンテンツローカルリソースの読み込み">コンテンツローカルリソースの読み込み</a></li>
<li style="list-style-type:disc; display:list-item;"><a href="#hash_コンテンツへのPHPコード埋め込み">コンテンツへのPHPコード埋め込み</a></li>
<li style="list-style-type:disc; display:list-item;"><a href="#hash_コンテンツの種類_(extensions)">コンテンツの種類 (extensions)</a></li></ul>
</div>
<!-- / == autoindex == -->


<span id="hash_コンテンツの担当範囲"></span><h2>コンテンツの担当範囲</h2>

<span id="hash_原則"></span><h3>原則</h3>

<p>原則として、コンテンツは各ページに固有の内容部分を担当します。</p>

<p>ページの内容に当たらない要素(例えば、ヘッダー、フッター、ナビゲーション、h1見出し など)は、テーマの担当ですので、コンテンツには記述しません。</p>

<span id="hash_ローカルリソース"></span><h3>ローカルリソース</h3>

<p>外部の CSS や JavaScript ファイルを読み込むことができます。 <code>$px-&gt;bowl()-&gt;put($code,'head')</code> 、 <code>$px-&gt;bowl()-&gt;put($code,'foot')</code> にソースを送り、headセクション内 や bodyセクションの最後にコンテンツのソースを配置します。</p>

<p>(詳しくは後述)</p>

<span id="hash_コンテンツエリアの拡張"></span><h3>コンテンツエリアの拡張</h3>

<p>その他、テーマが独自に定義する領域にコンテンツを配置できる場合があります。</p>

<p>この場合、テーマは独自の命名で <code>$px-&gt;bowl()-&gt;put()</code> にソースを送るように要求します。</p>

<p>デフォルトでは、<code>main</code>(または省略)、<code>head</code>、<code>foot</code> が予約されています。テーマは、それ以外の任意の名前でコンテンツエリアを定義できます。</p>

<pre><code>&lt;p&gt;普通に書いたHTMLソースは、メインコンテンツになります。&lt;/p&gt;


&lt;!--
メインコンテンツは、
`$px-&gt;bowl()-&gt;put('&lt;p&gt;HTMLコード&lt;/p&gt;', 'main')`
あるいは名前を省略し、
`$px-&gt;bowl()-&gt;put('&lt;p&gt;HTMLコード&lt;/p&gt;')`
とすることもできます。
--&gt;
&lt;?php $px-&gt;bowl()-&gt;put(
  '&lt;p&gt;これもメインコンテンツ&lt;/p&gt;',
  'main'
); ?&gt;
&lt;?php $px-&gt;bowl()-&gt;put(
  '&lt;p&gt;これもメインコンテンツ&lt;/p&gt;'
); ?&gt;


&lt;!-- headセクションに送るソース --&gt;
&lt;?php $px-&gt;bowl()-&gt;put(
  '&lt;style&gt;&lt;/style&gt;',
  'head'
); ?&gt;

&lt;!-- bodyセクションの末尾に送るソース --&gt;
&lt;?php $px-&gt;bowl()-&gt;put(
  '&lt;script&gt;&lt;/script&gt;',
  'foot'
); ?&gt;

&lt;!-- その他、テーマの独自拡張のエリアに送るソース --&gt;
&lt;?php $px-&gt;bowl()-&gt;put(
  '&lt;p&gt;例えば、右ナビバーの下に配置&lt;/p&gt;',
  'rnavi'
); ?&gt;
</code></pre>

<span id="hash_コンテンツエリアのクラス名"></span><h3>コンテンツエリアのクラス名</h3>

<p>慣例として、テーマは コンテンツのHTMLソースを <code>class="contents"</code> に包んで出力します。 したがって、コンテンツの担当範囲はこの要素の内側となります。</p>

<p>この慣例は、テーマとコンテンツの責任範囲を分解するために設けられました。 テーマがコンテンツのCSSを間違いなくロードするため、また、コンテンツがテーマのスタイルを意図せず破壊してしまわないために必要です。</p>

<span id="hash_ローカルリソースファイルの取り扱い"></span><h2>ローカルリソースファイルの取り扱い</h2>

<p>ローカルリソースファイルとは、コンテンツが独自に使用する画像やCSS、JavaScriptなどのファイル群を指します。どこに設置しても機能的な制限はありませんが、他のコンテンツのリソースと混ざって区別が付かなくなると、後々取り扱いに困ることがあるため、次のルールでコンテンツ単位に独自の領域を設けます。</p>

<ul>
<li>コンテンツファイル本体と同じ階層に、コンテンツファイル名の拡張子を <code>_files</code> に置き換えた名前の専用のディレクトリを設置し、全てのリソースはその中で管理します。</li>
<li>ローカルリソースディレクトリの中の整理分類にルールはありません。コンテンツ制作者各々に任されます。</li>
<li>他のコンテンツのローカルリソースにアクセスしてはなりません。</li>
</ul>

<p>例えば、<code>/aaa/hoge.html</code> というコンテンツであれば、<code>/aaa/hoge_files/*</code> に全てのリソースファイルを格納します。</p>

<p>このパスのルールは、コンフィグ <code>$conf-&gt;path_files</code> で変更することができます。</p>

<span id="hash_コンテンツローカルリソースの読み込み"></span><h2>コンテンツローカルリソースの読み込み</h2>

<p>ここでは、コンテンツ独自の CSS や JavaScript ファイルの読み込み方について説明します。</p>

<p>CSSはヘッドセクション内に記述する必要がありますが、コンテンツの領域内には <code>&lt;head&gt;</code> セクションを含まないため、特別な手順でこのソースを登録する必要があります。</p>

<p><code>$px-&gt;bowl()-&gt;put($code,'head')</code> に渡されたソースはheadセクション内に、　<code>$px-&gt;bowl()-&gt;put($code,'foot')</code> に渡されたソースはbodyセクションの末尾に出力されます。</p>

<pre><code>&lt;?php ob_start(); ?&gt;
&lt;!-- CSSの記述 --&gt;
&lt;style type="text/css"&gt;
.contents .cont_hoge{
    color:#ff0000;
}
&lt;/style&gt;
&lt;!-- CSSを外部化する場合 --&gt;
&lt;link rel="stylesheet" href="./hoge_files/contents.css" type="text/css" /&gt;
&lt;?php $px-&gt;bowl()-&gt;put( ob_get_clean(), 'head' ); ?&gt;

&lt;?php ob_start(); ?&gt;
&lt;!-- JavaScriptの記述 --&gt;
&lt;script&gt;
/*
JavaScriptの実装
*/
&lt;/script&gt;
&lt;!-- JavaScriptを外部化する場合 --&gt;
&lt;script src="./hoge_files/contents.js"&gt;&lt;/script&gt;
&lt;?php $px-&gt;bowl()-&gt;put( ob_get_clean(), 'foot' ); ?&gt;

&lt;div class="cont_hoge"&gt;
    &lt;p&gt;ここはコンテンツの領域です。&lt;/p&gt;
&lt;/div&gt;
</code></pre>

<span id="hash_コンテンツへのPHPコード埋め込み"></span><h2>コンテンツへのPHPコード埋め込み</h2>

<p>コンテンツソースにはPHPコードを埋め込むことができます。</p>

<p>例えば次のサンプルコードは、 for文を使って 0〜9 の連番を表示する例です。</p>

<pre><code>&lt;p&gt;コンテンツのHTMLソースです。&lt;/p&gt;
&lt;ul&gt;
&lt;?php
for( $i = 0; $i &lt; 10; $i ++ ){
  print '&lt;li&gt;'.$i.'&lt;/li&gt;';
}
?&gt;
&lt;/ul&gt;
</code></pre>

<p>コンテンツ内では、 <code>$px</code> を参照することができます。次のサンプルコードは、 カレントページのページタイトルを表示する例です。</p>

<pre><code>&lt;p&gt;&lt;?= htmlspecialchars($px-&gt;site()-&gt;get_current_page_info('title')); ?&gt;&lt;/p&gt;
</code></pre>

<span id="hash_コンテンツの種類_(extensions)"></span><h2>コンテンツの種類 (extensions)</h2>

<p>コンテンツには、次のような種類が定義されています。</p>

<ul>
<li>html</li>
<li>md</li>
<li>css</li>
<li>scss</li>
<li>js</li>
<li>direct</li>
<li>pass</li>
</ul>

<p>これらは、コンフィグ項目の <code>$conf-&gt;paths_proc_type</code> で、拡張子やパスのパターンに関連付け、 <code>$conf-&gt;funcs-&gt;processor</code> に加工処理を設定します。  プラグインを設定すると、extension の種類を追加できたり、振る舞いを変更することができます。</p>

<p>コンテンツの種類は、拡張子で変更することができます。</p>

<p>例えば、 <code>sample.html</code> というファイル名のコンテンツは <code>$conf-&gt;funcs-&gt;processor-&gt;html</code> の処理が適用されますが、拡張子 <code>.md</code> を付加し <code>sample.html.md</code> とすると、 <code>$conf-&gt;funcs-&gt;processor-&gt;md</code> に設定された処理が適用されるようになります。
(デフォルトでは、 <code>.md</code> は Markdown の書式を処理します)</p>

<p>CSS と JavaScript ファイルもコンテンツとして処理されます。</p>

<p>CSSは、 <code>sample.css</code> では通常のCSS、 <code>sample.css.scss</code> とすると、SASS書式で記述できるようになります。</p>

<p>コンテンツとして処理される CSS, JavaScript ファイルは、HTMLコンテンツと同様に ソース内に PHP コードを埋め込むことができます。この挙動を変更したい場合、 <code>$conf-&gt;paths_proc_type</code> で <code>direct</code> または <code>pass</code> が適用されるように設定してください。</p>
						</div>



					</div>
					<div class="col-sm-3">
						<nav class="theme_common_navi">
							<p><a href="../">使い方</a></p>
<ul>
<li><a href="../system_structure/">システムの構成</a></li>
<li><a href="../setup/">セットアップ手順</a></li>
<li><a href="../configs/">設定</a></li>
<li><a href="../sitemap/">サイトマップ編集</a></li>
<li><a href="../theme/">テーマ編集</a></li>
<li><a href="./" class="current">コンテンツ編集</a></li>
<li><a href="../publish/">パブリッシュ</a></li>
<li><a href="../cmd_options/">コマンドラインオプション</a></li>
<li><a href="../plugins/">プラグイン</a></li>
<li><a href="../pxcommands/">PXコマンド</a></li>
<li><a href="../guieditor/">GUI編集</a></li>
<li><a href="../contents_manifesto/">Contents Manifesto</a></li>
<li><a href="../api_reference/">API リファレンス</a></li>
</ul>
						</nav>
					</div>
				</div><!-- /.row -->
			</div><!-- /.container -->
			<div class="container">
				<div class="theme_backtotop"><a href="#page_top"><i class="fa fa-arrow-up"></i> back to top</a></div>
				<div class="theme_breadcrumb"><ul><li><a href="../../">HOME</a></li><li><a href="../">使い方</a></li><li><span>コンテンツ編集</span></li></ul></div>
			</div><!-- /.container -->
		</div><!-- /.theme_mainblock -->
		<footer class="theme_footer">
			<div class="theme_container">
				<nav class="theme_megafooter_navi">
<ul><li><a href="../../overview/about/">はじめに</a></li><li><a href="../../download/">ダウンロード</a></li><li><a href="../" class="current">使い方</a></li><li><a href="../../tools/">ツール・リソース</a></li><li><a href="../../blog/">BLOG</a></li><li><a href="../../usergroups/">ユーザーグループ</a></li></ul>				</nav>
			</div>
			<div class="theme_container theme_footer_shouldernavi">
<ul><li><a href="../../">HOME</a></li><li><a href="../../developers/">開発者向けの情報</a></li></ul>			</div>
			<div class="theme_container theme_footer_searcher">
				<form action="../../search/" class="form-inline">
					<div class="form-group">
						<label>サイト内検索</label>
						<input type="text" name="q" value="" class="form-control" />
						<button class="form-control">検索</button>
					</div>
				</form>
			</div>
			<div class="theme_container">
				<div class="theme_social_icons">
					<a href="https://twitter.com/pxfw" target="_blank" title="Pickles 2 on Twitter"><i class="fa fa-twitter"></i></a>
					<a href="https://github.com/pickles2" target="_blank" title="Pickles 2 on github"><i class="fa fa-github"></i></a>
				</div>
			</div>
			<div class="theme_container">
				<p style="text-align:center;">&copy;Pickles 2 Project.</p>
			</div>
		</footer>
		<script src="../../caches/p/theme/pickles/scripts/smoothScroll.js"></script>
		<script src="../../caches/p/theme/pickles/scripts/global.js"></script>
		<script src="../../caches/p/theme/pickles/scripts/jquery.sidebarFix.js"></script>
		<script type="text/javascript">
			$(window).load(function(){
				$('.theme_common_navi').sidebarFix({
					'frame': $('.theme_common_navi_frame'),
					'topBuffer': 98
				});
			});
		</script>
	</body>
</html>
